/*
 * Copyright (C) 2018, 2019 Cognibotics
 *
 * Use or copying of this file or any part of it, without explicit
 * permission from Cognibotics is not allowed in any way.
 */
#include "lpoe.h"
#include "lpoe_invkin.h"

struct model_lpoe_link er6_lrob[] = {
		{
			.s = {0, 0, 0, 0, 0, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.3165},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.16},
				{0.0, 1.0, 0.0, -0.115},
				{0.0, 0.0, 1.0, 0.0955},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, -0.003},
				{0.0, 0.0, 1.0, 0.68},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{0.0, 0.0, 1.0, 0.121},
				{0.0, 1.0, 0.0, 0.118},
				{-1.0, 0.0, 0.0, 0.21},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, -0.059},
				{0.0, 0.0, 1.0, 0.619},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.059},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.089},
				{0.0, 0.0, 0.0, 1.0}},
		},
};
struct model_lpoe_nom ER6 = {
	.rot_dirs = {-1.0, 1.0, 1.0, -1.0, 1.0, -1.0},
	.l1 = 0.68,
	.l2 = 0.769220384545,
	.th1_0 = 1.57079632679,
	.th2_0 = -1.29428238018,
	.wcp0 = {
		{0.0, 0.0, 1.0, 0.9},
		{0.0, 1.0, 0.0, -1.38777878078e-17},
		{-1.0, 0.0, 0.0, 1.302},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};
struct model_lpoe_nom ER6_offs = {
	.rot_dirs = {-1.0, 1.0, 1.0, -1.0, 1.0, -1.0},
	.l1 = 0.68,
	.l2 = 0.769220384545,
	.th1_0 = 1.57079632679,
	.th2_0 = -1.29428238018,
	.wcp0 = {
		{0.0, 0.0, 1.0, 0.9},
		{0.0, 1.0, 0.0, -1.38777878078e-17},
		{-1.0, 0.0, 0.0, 1.302},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};

struct model_lpoe ER6_lpoe;
struct model_lpoe ER6_lpoe_offs;
double offs_er6[6] = {0.1, 0.1, 0.1, 0.1, 0.1, 0.1};

void init_er6()
{
	lpoe_init(&ER6_lpoe);
	ER6_lpoe.lrob = er6_lrob;
	ER6_lpoe.n_screw = 7;
	ER6_lpoe.n_joints = 6;
	ER6.model = ER6_lpoe;
	lpoe_init(&ER6_lpoe_offs);
	ER6_lpoe_offs.lrob = er6_lrob;
	ER6_lpoe_offs.n_screw = 7;
	ER6_lpoe_offs.n_joints = 6;
	ER6_lpoe_offs.q_a_offs = offs_er6;
	ER6_offs.model = ER6_lpoe_offs;
}


struct model_lpoe_link kr20r1810_lrob[] = {
		{
			.s = {0, 0, 0, 0, 0, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{0.0, 0.0, 1.0, 0.16},
				{0.0, 1.0, 0.0, 0.0},
				{-1.0, 0.0, 0.0, 0.52},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.78},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, -0.15},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.86},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.153},
				{0.0, 0.0, 0.0, 1.0}},
		},
};
struct model_lpoe KR20R1810_lpoe;

struct model_lpoe_nom KR20R1810 = {
	.rot_dirs = {-1.0, 1.0, 1.0, -1.0, 1.0, -1.0},
	.l1 = 0.78,
	.l2 = 0.872983390449,
	.th1_0 = 0.0,
	.th2_0 = 0.172681491618,
	.wcp0 = {
		{0.0, 0.0, 1.0, 1.8},
		{0.0, 1.0, 0.0, 0.0},
		{-1.0, 0.0, 0.0, 0.67},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};

void init_kr20r1810()
{
	lpoe_init(&KR20R1810_lpoe);
	KR20R1810_lpoe.lrob = kr20r1810_lrob;
	KR20R1810_lpoe.n_screw = 7;
	KR20R1810_lpoe.n_joints = 6;
	KR20R1810.model = KR20R1810_lpoe;
}

struct model_lpoe_link kr300r2500_lrob[] = {
		{
			.s = {0, 0, 0, 0, 0, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{0.0, 0.0, 1.0, 0.35},
				{0.0, 1.0, 0.0, 0.0},
				{-1.0, 0.0, 0.0, 0.675},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 1.15},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.041},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 1.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.24},
				{0.0, 0.0, 0.0, 1.0}},
		},
};
struct model_lpoe KR300R2500_lpoe;

struct model_lpoe_nom KR300R2500 = {
	.rot_dirs = {-1.0, 1.0, 1.0, -1.0, 1.0, -1.0},
	.l1 = 1.15,
	.l2 = 1.00084014708,
	.th1_0 = 0.0,
	.th2_0 = -0.0409770494768,
	.wcp0 = {
		{0.0, 0.0, 1.0, 2.5},
		{0.0, 1.0, 0.0, 0.0},
		{-1.0, 0.0, 0.0, 0.634},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};

void init_kr300r2500()
{
	lpoe_init(&KR300R2500_lpoe);
	KR300R2500_lpoe.lrob = kr300r2500_lrob;
	KR300R2500_lpoe.n_screw = 7;
	KR300R2500_lpoe.n_joints = 6;
	KR300R2500.model = KR300R2500_lpoe;
}


struct model_lpoe_link er300_lrob[] = {
		{
			.s = {0, 0, 0, 0, 0, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.25},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.4},
				{0.0, 1.0, 0.0, -0.0315},
				{0.0, 0.0, 1.0, 0.4485},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 1.1},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{0.0, 0.0, 1.0, 0.877},
				{0.0, 1.0, 0.0, 0.0},
				{-1.0, 0.0, 0.0, 0.23},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.228},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.2685},
				{0.0, 0.0, 0.0, 1.0}},
		},
};
struct model_lpoe ER300_lpoe;

struct model_lpoe_nom ER300 = {
	.rot_dirs = {-1.0, 1.0, 1.0, -1.0, 1.0, -1.0},
	.l1 = 1.1,
	.l2 = 1.12868286068,
	.th1_0 = 1.57079632679,
	.th2_0 = -1.36558163872,
	.wcp0 = {
		{0.0, 0.0, 1.0, 1.505},
		{0.0, 1.0, 0.0, -0.0315},
		{-1.0, 0.0, 0.0, 2.0285},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};

void init_er300()
{
        lpoe_init(&ER300_lpoe);
        ER300_lpoe.lrob = er300_lrob;
        ER300_lpoe.n_screw = 7;
        ER300_lpoe.n_joints = 6;
        ER300.model = ER300_lpoe;
}


struct model_lpoe_link smart5nj42202_7_lrob[] = {
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000},
			.trans = {
				{1.000000, 0.000000, 0.000000, 0.000000},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{0.000000, 0.000000, 1.000000, 0.328000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, -1.000000},
			.trans = {
				{1.000000, 0.000000, 0.000000, 0.400000},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{0.000000, 0.000000, 1.000000, 0.502000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000},
			.trans = {
				{1.000000, 0.000000, 0.000000, 0.000000},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{0.000000, 0.000000, 1.000000, 1.175000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, -1.000000, 0.000000},
			.trans = {
				{1.000000, 0.000000, 0.000000, -0.250000},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{0.000000, 0.000000, 1.000000, 0.000000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, -1.000000},
			.trans = {
				{0.500000, 0.000000, -0.8660254037844386, 0.000000},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{0.8660254037844386, 0.000000, 0.500000, 1.165000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000},
			.trans = {
				{0.500000, 0.000000, 0.8660254037844386, 0.1948557158514987},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{-0.8660254037844386, 0.000000, 0.500000, 0.2825000000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
		{
			.s = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, -1.000000},
			.trans = {
				{1.000000, 0.000000, 0.000000, 0.000000},
				{0.000000, 1.000000, 0.000000, 0.000000},
				{0.000000, 0.000000, 1.000000, 0.000000},
				{0.000000, 0.000000, 0.000000, 1.000000}},
		},
};
struct model_lpoe Smart5NJ42202_7_lpoe;

struct model_lpoe_nom Smart5NJ42202_7 = {
	.rot_dirs = {-1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -1.000000},
	.l1 = 1.175,
	.l2 = 1.19152213576,
	.th1_0 = 1.57079632679,
	.th2_0 = 0.21138641645,
	.wcp0 = {
		{0.500000, 0.000000, -0.866025, 0.150000},
		{0.000000, 1.000000, 0.000000, 0.000000},
		{0.866025, 0.000000, 0.500000, 3.170000},
		{0.000000, 0.000000, 0.000000, 1.000000},
	},
	.hollow_wrist = 1,
};
double coupling_mat_nj4220[] = {
		1.0, 0.0, 0.0, 0.0, 0.0, 0.0,
		0.0, 1.0, 0.0, 0.0, 0.0, 0.0,
		0.0, 1.0, 1.0, 0.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 1.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 1.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 0.0, 1.0};
double inverse_coupling_mat_nj4220[] = {
		1.0, 0.0, 0.0, 0.0, 0.0, 0.0,
		0.0, 1.0, 0.0, 0.0, 0.0, 0.0,
		0.0, -1.0, 1.0, 0.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 1.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 1.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 0.0, 1.0};
struct model_lpoe Smart5NJ42202_7_lpoe2;

struct model_lpoe_nom Smart5NJ42202_7_2 = {
	.rot_dirs = {-1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -1.000000},
	.l1 = 1.175,
	.l2 = 1.19152213576,
	.th1_0 = 1.57079632679,
	.th2_0 = 0.21138641645,
	.wcp0 = {
		{0.500000, 0.000000, -0.866025, 0.150000},
		{0.000000, 1.000000, 0.000000, 0.000000},
		{0.866025, 0.000000, 0.500000, 3.170000},
		{0.000000, 0.000000, 0.000000, 1.000000},
	},
	.hollow_wrist = 1,
};

void init_smart5nj42202_7()
{
	lpoe_init(&Smart5NJ42202_7_lpoe);
	Smart5NJ42202_7_lpoe.lrob = smart5nj42202_7_lrob;
	Smart5NJ42202_7_lpoe.n_screw = 7;
	Smart5NJ42202_7_lpoe.n_joints = 6;
	Smart5NJ42202_7_lpoe.has_pbar = 1;
	Smart5NJ42202_7_lpoe.par_fact = -1.0;
	Smart5NJ42202_7.model = Smart5NJ42202_7_lpoe;

	lpoe_init(&Smart5NJ42202_7_lpoe2);
	Smart5NJ42202_7_lpoe2.lrob = smart5nj42202_7_lrob;
	Smart5NJ42202_7_lpoe2.n_screw = 7;
	Smart5NJ42202_7_lpoe2.n_joints = 6;
	Smart5NJ42202_7_lpoe2.coupling_matrix = coupling_mat_nj4220;
	Smart5NJ42202_7_lpoe2.inverse_coupling_matrix = inverse_coupling_mat_nj4220;
	Smart5NJ42202_7_2.model = Smart5NJ42202_7_lpoe2;
}


struct model_lpoe_link nj130_lrob[] = {
		{
			.s = {0, 0, 0, 0, 0, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.350},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.830},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{0.0, 0.0, -1.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{1.0, 0.0, 0.0, 1.160},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, -1, 0},
			.trans = {
				{0.0, 0.0, 1.0, 1.10558},
				{0.0, 1.0, 0.0, 0.0},
				{-1.0, 0.0, 0.0, 0.25},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.0},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, -1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.210},
				{0.0, 0.0, 0.0, 1.0}},
		},
};
struct model_lpoe NJ130_lpoe;

struct model_lpoe_nom NJ130 = {
	.rot_dirs = {-1.0, 1.0, -1.0, -1.0, 1.0, -1.0},
	.l1 = 1.1599999999999997,
	.l2 = 1.133493333196098,
	.th1_0 = 1.5707963267948966,
	.th2_0 = 0.2223855969263715,
	.wcp0 = {
		{1.0, 0.0, 0.0, 0.09999999999999998},
		{0.0, 1.0, 0.0, 0.0},
		{0.0, 0.0, 1.0, 3.09558},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};
double coupling_mat_nj130[] = {
		1.0, 0.0, 0.0, 0.0, 0.0, 0.0,
		0.0, 1.0, 0.0, 0.0, 0.0, 0.0,
		0.0, 1.0, 1.0, 0.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 1.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 1.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 0.0, 1.0};
double inverse_coupling_mat_nj130[] = {
		1.0, 0.0, 0.0, 0.0, 0.0, 0.0,
		0.0, 1.0, 0.0, 0.0, 0.0, 0.0,
		0.0, -1.0, 1.0, 0.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 1.0, 0.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 1.0, 0.0,
		0.0, 0.0, 0.0, 0.0, 0.0, 1.0};
struct model_lpoe NJ130_lpoe2;

struct model_lpoe_nom NJ130_2 = {
	.rot_dirs = {-1.0, 1.0, -1.0, -1.0, 1.0, -1.0},
	.l1 = 1.1599999999999997,
	.l2 = 1.133493333196098,
	.th1_0 = 1.5707963267948966,
	.th2_0 = 0.2223855969263715,
	.wcp0 = {
		{1.0, 0.0, 0.0, 0.09999999999999998},
		{0.0, 1.0, 0.0, 0.0},
		{0.0, 0.0, 1.0, 3.09558},
		{0.0, 0.0, 0.0, 1.0}},
	.hollow_wrist = 0,
};

void init_nj130()
{
	lpoe_init(&NJ130_lpoe);
	NJ130_lpoe.lrob = nj130_lrob;
	NJ130_lpoe.n_screw = 7;
	NJ130_lpoe.n_joints = 6;
	NJ130_lpoe.has_pbar = 1;
	NJ130_lpoe.par_fact = -1.0;
	NJ130.model = NJ130_lpoe;

	lpoe_init(&NJ130_lpoe2);
	NJ130_lpoe2.lrob = nj130_lrob;
	NJ130_lpoe2.n_screw = 7;
	NJ130_lpoe2.n_joints = 6;
	NJ130_lpoe2.coupling_matrix = coupling_mat_nj130;
	NJ130_lpoe2.inverse_coupling_matrix = inverse_coupling_mat_nj130;
	NJ130_2.model = NJ130_lpoe2;
}

struct model_lpoe_link ur10e_lrob[] = {
		{
			.s = {0, 0, 0, 0, 0, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.1},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, 1},
			.trans = {
				{0.0, 0.0, -1.0, 0.0},
				{0.0, 1.0, 0.0, 0.088},
				{1.0, 0.0, 0.0, 0.081},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, -1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.613},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, -1, 0},
			.trans = {
				{-1.0, 0.0, 0.0, 0.0},
				{0.0, 0.0, -1.0, 0.0},
				{0.0, -1.0, 0.0, 0.571},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, 1},
			.trans = {
				{0.0, -1.0, 0.0, 0.06},
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.086},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, -1, 0},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, -0.06},
				{0.0, 0.0, 1.0, 0.077},
				{0.0, 0.0, 0.0, 1.0}},
		},
		{
			.s = {0, 0, 0, 0, 0, 1},
			.trans = {
				{1.0, 0.0, 0.0, 0.0},
				{0.0, 1.0, 0.0, 0.0},
				{0.0, 0.0, 1.0, 0.04},
				{0.0, 0.0, 0.0, 1.0}},
		},
};
struct model_lpoe_nom UR10e = {
	.model = {
		.lrob = ur10e_lrob,
		.n_screw = 7,
		.has_pbar = 0,
		.par_fact = 1.0,
	},
	.rot_dirs = {1.0, 1.0, 1.0, 1.0, 1.0, 1.0},
	.l1 = 1.0,
	.l2 = 1.0,
	.th1_0 = 1.0,
	.th2_0 = 1.0,
	.wcp0 = {
		{0.0, 0.0, -0.613, -0.571},
		{0.0, 0.0, 0.0, 0.0},
		{0.181, 0.0, 0.0, 0.174},
		{0.12, 0.117, 0.0, -1.0}},
	.hollow_wrist = 0,
};

